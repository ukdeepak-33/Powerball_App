{% extends "base.html" %}

{% block title %}Number Age Distribution{% endblock %}

{% block page_heading %}Number Age Distribution{% endblock %}

{% block content %}
    {% if number_age_data %}
        <div class="chart-container">
            <h3 class="chart-title">Number Age Distribution (Draws Since Last Seen)</h3>
            <div id="numberAgeChart"></div>
        </div>
    {% else %}
        <div class="card"><p class="text-gray-500">No data available for Number Age Distribution. Please ensure historical data is loaded.</p></div>
    {% endif %}
{% endblock %}

{% block scripts %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("[Number Age Distribution] Page loaded.");
            {% if number_age_data %}
            console.log("[Number Age Distribution] number_age_data data:", {{ number_age_data | tojson }});
            drawBarChart({{ number_age_data | tojson }}, 'numberAgeChart', 'age', 'count', 'Number Age Distribution');
            {% else %}
            console.log("[Number Age Distribution] number_age_data is not available in template context.");
            {% endif %}
        });
    </script>
{% endblock %}
