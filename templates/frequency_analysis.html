{% extends "base.html" %}

{% block title %}Frequency Analysis{% endblock %}

{% block page_heading %}White Ball and Powerball Frequencies{% endblock %}

{% block content %}
    {% if white_ball_freq %}
        <div class="chart-container">
            <h3 class="chart-title">White Ball Frequency</h3>
            <div id="whiteBallFreqChart"></div>
        </div>
    {% else %}
        <div class="card"><p class="text-gray-500">No data available for White Ball Frequency. Please ensure historical data is loaded.</p></div>
    {% endif %}

    {% if powerball_freq %}
        <div class="chart-container mt-6">
            <h3 class="chart-title">Powerball Frequency</h3>
            <div id="powerballFreqChart"></div>
        </div>
    {% else %}
        <div class="card mt-6"><p class="text-gray-500">No data available for Powerball Frequency. Please ensure historical data is loaded.</p></div>
    {% endif %}
{% endblock %}

{% block scripts %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("[Frequency Analysis] Page loaded.");
            {% if white_ball_freq %}
            console.log("[Frequency Analysis] white_ball_freq data:", {{ white_ball_freq | tojson }});
            drawBarChart({{ white_ball_freq | tojson }}, 'whiteBallFreqChart', 'Number', 'Frequency', 'White Ball Frequency');
            {% else %}
            console.log("[Frequency Analysis] white_ball_freq is not available in template context.");
            {% endif %}

            {% if powerball_freq %}
            console.log("[Frequency Analysis] powerball_freq data:", {{ powerball_freq | tojson }});
            drawBarChart({{ powerball_freq | tojson }}, 'powerballFreqChart', 'Number', 'Frequency', 'Powerball Frequency');
            {% else %}
            console.log("[Frequency Analysis] powerball_freq is not available in template context.");
            {% endif %}
        });
    </script>
{% endblock %}
